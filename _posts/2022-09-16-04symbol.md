---
layouts: post
title:  "JS 코딩앙마 중급 4"
categories: JS
tag: [코딩앙마, symbol, property, object, data type]
toc: true
sidebar:
    nav: "docs"
---

## Symbol

<ul>
<li>위와 같이 객체 property key가 boolean이나 숫자형이여도 문자형으로 반환된다.</li>
<li>객체 property key는 문자형으로 가능하고 다른 형태로는 Symbol형이 있다.</li>
<li>설명을 붙여주면 디버깅할 때 편하다.</li>
<li>유일성이 보장된다.</li>
</ul>

```js
const a = Symbol();
const b = Symbol();

console.log(a); // Symbol()
console.log(b); // Symbol()
console.log(a === b); // false
```
<ul>
<li>new를 붙이지 않는다.</li>
<li>유일한 식별자를 만들 때 사용한다.</li>
<li>a와 b는 같은 Symbol() 의 값을 가지지만 일치, 동등연산자를 통해서 비교하면 false가 나온다.</li>
</ul>

#### property key : Symbol형
```js
const id = Symbol('id');

const user = {
    name : "Mike",
    age : 30,
    [id] : "myid"
}

console.log(user); // {name: "Mike", age: 30, Symbol(id): "myid"}
console.log(Object.keys(user)); // [name: "Mike", age: 30]
```

```js
const user2 = {
    name : 'DK',
    age : 30,
}
const id2 = Symbol('id2');
user2[id2]  = 'myid';

console.log(user2); // {name: 'DK', age: 30, Symbol(id2): 'myid'}
```
Object.keys, Object.values, Object.entries, for in 키가 심볼이면 등은 건너 뜀
<br/>

어디에 사용할 수 있을까 - 원본 데이터는 건드리지 않고 속성을 추가할 수 있다

<br/>

## Symbol.for()
전역심볼
<ul>
전역변수처럼 이름이 같으면 같은 객체를 가르켜야할 때 사용
하나의 심볼만 보장받을 수 있다.
없으면 만들고, 있으면 가져오기 때문이다.
Symbol 함수는 매번 다른 Symbol 값을 생성하지만, Symbol.for 메소드는 하나를 생성한 뒤 키를 통해 같은 Symbol을 공유한다.
</ul>

```js
const dk1 = Symbol.for('dk');
const dk2 = Symbol.for('dk');
console.log( dk1 === dk2 ); // true
```

<br/>

#### Symbol.keyFor()

전역심볼의 이름을 얻는 방법
```js
Symbol.keyFor(dk1);

console.log(Symbol.keyFor(dk1)); // dk
```

<br/>

#### description

전역심볼이 아닌 심볼의 이름을 얻는 방법
```js
const id = Symbol('idd')
const user = {
    name : "adidas",
    age : 30,
    [id] : "adidas id",
}
console.log(id.description); // idd
```

<br/>

#### Object.getOwnPropertySymbols

숨겨진 Symbol key 보는 법
```js
const id = Symbol('idd')
const user = {
    name : "adidas",
    age : 30,
    [id] : "adidas id",
}

console.log(Object.getOwnPropertySymbols(user)); // Symbol(idd)
```

#### Reflect.ownKeys()

숨겨진 Symbol을 포함해서 객체의 모든 key 보는 법
```js
const id = Symbol('id')
const user = {
    name : "Mike",
    age : 20,
    [id] : "idid",
}

console.log(Reflect.ownKeys(user)); // ["name", "age", Symbol(id)]
```
별로 사용 안함

<br/>

## Symbol 예문

다른 개발자가 만들어 놓은 객체
```js
const sb = {
    name : 'soobin',
    age : 29,
};
```

사용자가 접속하면 보는 메세지
```js
for (let key in sb){
    console.log(`Her ${key} is ${sb[key]}`);
}
```

일 때, 내가 작업하기 위해서
```js
sb.showName = function(){};
```

와 같이 추가한다면 사용자가 보는 메세지에서
<ul>
Her name is soobin<br/>
Her age is 29<br/>
Her showName is function(){}<br/>
</ul>
와 같이 나타난다

따라서
```js
const showName = Symbol("show name");
sb[showName] = function() {
    console.log(this.name);
}

sb[showName]();
```

처럼 Symbol을 사용하면 자신이 작성한 메소드도 작동하면서 다른 개발자가 만들어 놓은 코드에도 영향을 미치지 않는다.